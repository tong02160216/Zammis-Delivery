# 🍎 像素风格接苹果游戏 - 手势控制版

## 📖 游戏介绍
这是一个结合了计算机视觉和游戏的像素风格接苹果游戏。玩家通过摄像头手势控制篮子接住下落的苹果！

## 🎮 游戏特点
- **像素风格**：复古的像素艺术风格
- **手势交互**：使用MediaPipe进行实时手势识别
- **难度递增**：苹果下落速度逐渐加快
- **实时追踪**：显示手势追踪画面

## 📦 安装依赖

```bash
# 激活虚拟环境（如果有）
.venv\Scripts\activate

# 安装依赖
pip install -r requirements.txt
```

主要依赖：
- `pygame` - 游戏引擎
- `opencv-python` - 摄像头处理
- `mediapipe` - 手势识别

## 🚀 运行游戏

```bash
python apple_catcher_game.py
```

## 🎯 游戏玩法

1. **启动游戏**
   - 运行脚本后会自动打开摄像头
   - 将手放在摄像头前方

2. **控制篮子**
   - 左右移动手掌 → 篮子跟随移动
   - 手势追踪窗口会显示绿色圆点标记手掌中心

3. **得分规则**
   - 接住苹果：+10分
   - 失误10个苹果：游戏结束

4. **按键操作**
   - `R` - 重新开始
   - `ESC` 或关闭窗口 - 退出游戏
   - `Q` - 关闭手势追踪窗口

## 🖐️ 手势识别说明

- 游戏使用 MediaPipe Hands 进行手势追踪
- 识别手掌中心位置（手腕到中指根部的中点）
- 手掌的水平位置映射到篮子的位置
- 建议：
  - 保持手掌张开便于识别
  - 距离摄像头约50cm
  - 光线充足的环境

## 🎨 游戏元素

### 苹果
- 随机颜色（红、绿、黄）
- 随机下落速度
- 像素风格设计

### 篮子
- 木质篮子造型
- 跟随手势移动
- 像素网格装饰

### 背景
- 渐变天空
- 像素云朵
- 草地

## 🔧 故障排除

### 摄像头无法打开
```
❌ 摄像头错误: 无法打开摄像头
```
**解决方案：**
- 检查摄像头是否被其他程序占用
- 确认摄像头权限已开启
- 尝试修改代码中的 `camera_id`（0改为1或2）

### 手势识别不稳定
**建议：**
- 增加光线亮度
- 调整手与摄像头的距离
- 确保背景简单、对比度高
- 手掌完全展开更易识别

### 游戏卡顿
**优化：**
- 降低摄像头分辨率
- 调整 `model_complexity` 为 0（已默认）
- 关闭其他占用CPU的程序

## 📂 项目文件

```
Zammis-Delivery/
├── apple_catcher_game.py    # 主游戏文件
├── camera_utils.py           # 摄像头工具
├── requirements.txt          # 依赖列表
└── README_APPLE_GAME.md     # 本说明文件
```

## 🎓 技术实现

### 手势追踪
```python
# MediaPipe Hands 配置
mp_hands.Hands(
    model_complexity=0,           # 模型复杂度（0=最快）
    min_detection_confidence=0.5, # 检测置信度
    min_tracking_confidence=0.5,  # 追踪置信度
    max_num_hands=1              # 最多识别1只手
)
```

### 坐标映射
- 摄像头坐标（0-1归一化）→ 游戏屏幕坐标（0-800像素）
- 手掌中心X坐标直接映射到篮子X位置

### 碰撞检测
- 使用 `pygame.Rect.colliderect()` 检测苹果与篮子碰撞
- 像素级精确碰撞

## 🌟 未来改进方向

- [ ] 添加音效和背景音乐
- [ ] 增加道具系统（加速、减速、扩大篮子等）
- [ ] 支持双手模式（两个篮子）
- [ ] 添加高分排行榜
- [ ] 不同难度等级选择
- [ ] 特殊苹果（金苹果、炸弹等）
- [ ] 粒子效果

## 📝 开发笔记

游戏开发时间：2025年11月6日  
使用技术栈：Python + Pygame + OpenCV + MediaPipe  
风格灵感：经典像素游戏

---

**祝您游戏愉快！🍎**

如有问题或建议，欢迎反馈！
